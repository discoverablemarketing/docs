---
title: "Zapier Integration"
description: "Connect ChatAds to 6,000+ apps with Zapier"
---

## Overview

Connect ChatAds to Zapier to add affiliate links in your automated workflows. Use Zapier's webhook actions to call the ChatAds API and process responses in any of 6,000+ connected apps.

<Info>
ChatAds works with Zapier via the Webhooks by Zapier integration. No custom Zapier app is needed.
</Info>

## Quick Start

### Step 1: Create a New Zap

1. Go to [zapier.com](https://zapier.com) and click **Create Zap**
2. Choose your trigger (e.g., "New Message in Slack", "Form Submission")

### Step 2: Add ChatAds Webhook

1. Click **+** to add an action
2. Search for **Webhooks by Zapier**
3. Choose **POST** as the action event

### Step 3: Configure the Request

| Field | Value |
|-------|-------|
| URL | `https://chatads--chatads-api-fastapiserver-serve.modal.run/v1/chatads/messages` |
| Payload Type | `json` |
| Data | See below |

**Request Data:**

```
message | {{trigger_message_field}}
country | US
message_analysis | balanced
fill_priority | coverage
min_intent | low
```

### Step 4: Add Headers

| Header | Value |
|--------|-------|
| X-API-Key | `cak_your_api_key` |
| Content-Type | `application/json` |

### Step 5: Test and Use Response

Test the webhook. You'll get a response like:

```json
{
  "success": true,
  "data": {
    "matched": true,
    "ad": {
      "product": "Yoga Mat",
      "link": "https://amazon.com/...",
      "message": "Perfect for beginners"
    }
  }
}
```

Use these values in subsequent steps:
- `data__ad__link` — The affiliate URL
- `data__ad__product` — Product name
- `data__matched` — Whether a product was found

## Request Parameters

### Required

<ParamField body="message" type="string" required>
  The user message to analyze. Map this from your trigger.
</ParamField>

### Optional

<ParamField body="country" type="string">
  ISO country code (e.g., "US", "GB"). Affects affiliate link localization.
</ParamField>

<ParamField body="message_analysis" type="string" default="balanced">
  - `fast` — Quick NLP extraction
  - `balanced` — Default, hybrid approach
  - `thorough` — Deep analysis
</ParamField>

<ParamField body="fill_priority" type="string" default="coverage">
  - `speed` — Faster, fewer matches
  - `coverage` — Slower, more matches
</ParamField>

<ParamField body="min_intent" type="string" default="low">
  - `any` — All queries
  - `low` — Filter low-quality
  - `medium` — Balanced
  - `high` — High-intent only
</ParamField>

<ParamField body="skip_message_analysis" type="boolean" default="false">
  Set to `true` to use message as direct product search.
</ParamField>

## Use Case Examples

### Slack Bot with Affiliate Links

**Trigger:** New message in Slack channel

**Flow:**
1. **Slack** — New Message trigger
2. **Webhooks by Zapier** — POST to ChatAds
3. **Filter** — Only continue if `data__matched` is `true`
4. **Slack** — Reply with affiliate link

**Slack Message Template:**
```
Great question! Check out {{data__ad__product}}: {{data__ad__link}}
```

### Email Lead Enrichment

**Trigger:** New row in Google Sheets (product inquiries)

**Flow:**
1. **Google Sheets** — New Row trigger (with product column)
2. **Webhooks by Zapier** — POST to ChatAds with product as message
3. **Google Sheets** — Update row with affiliate link

### Form Response Handler

**Trigger:** Typeform submission

**Flow:**
1. **Typeform** — New Entry trigger
2. **Webhooks by Zapier** — POST to ChatAds
3. **Gmail** — Send email with personalized affiliate recommendation

**Email Template:**
```
Hi {{name}},

Thanks for your interest in {{data__ad__product}}!

Here's a link to check it out: {{data__ad__link}}

Best,
Your Team
```

### Intercom Chat Integration

**Trigger:** New Intercom conversation

**Flow:**
1. **Intercom** — New Conversation trigger
2. **Webhooks by Zapier** — POST to ChatAds
3. **Filter** — Check if matched
4. **Intercom** — Add note to conversation with affiliate link

## Handling Responses

### Using Filter Steps

Add a **Filter by Zapier** step after the webhook:

| Condition | Value |
|-----------|-------|
| Field | `data__matched` |
| Condition | (Boolean) Is true |

This prevents subsequent steps from running when no product is matched.

### Using Paths

For complex logic, use **Paths by Zapier**:

**Path A:** Product matched
- Condition: `data__matched` is true
- Actions: Send affiliate link

**Path B:** No match
- Condition: `data__matched` is false
- Actions: Send generic response

### Using Formatter

Extract nested values with **Formatter by Zapier**:

1. Add Formatter step
2. Choose **Utilities** → **Line-item to Text**
3. Input: Webhook response
4. Extract: `data.ad.link`

## Error Handling

### Common Issues

<AccordionGroup>

<Accordion title="Webhook returns empty response">
Check that:
- Headers are set correctly (X-API-Key, Content-Type)
- API key is valid and not disabled
- URL is exactly correct
</Accordion>

<Accordion title="Rate limit errors (429)">
ChatAds has usage limits. If you hit them:
- Add a **Delay** step between rapid requests
- Upgrade your plan for higher limits
- Cache results for repeated queries
</Accordion>

<Accordion title="No product matched">
Try:
- Using more specific product descriptions
- Setting `min_intent` to `any`
- Checking that the message contains product keywords
</Accordion>

</AccordionGroup>

### Testing Tips

1. **Use Zapier's Test feature** — Each step can be tested individually
2. **Check the webhook response** — Expand the response to see all available fields
3. **Start with static values** — Test with a hardcoded message before mapping dynamic fields

## Best Practices

<CardGroup cols={2}>
  <Card title="Store API key securely" icon="lock">
    Use Zapier's built-in secret storage when available. Never expose keys in zap descriptions.
  </Card>
  <Card title="Add error handling" icon="shield">
    Use Paths to handle both success and failure cases gracefully.
  </Card>
  <Card title="Monitor usage" icon="chart-line">
    Track `meta__usage` values to avoid quota surprises.
  </Card>
  <Card title="Test with sample data" icon="flask">
    Verify your zap works with various message types before going live.
  </Card>
</CardGroup>

## Limitations

- **Webhooks by Zapier** runs synchronously — each call waits for response
- **5-second timeout** by default in Zapier (ChatAds typically responds in <500ms)
- **No batch processing** — Each item triggers a separate webhook call
- **Rate limits apply** — High-volume zaps may hit API limits

For high-volume use cases, consider the [n8n integration](/sdks/n8n) which offers better concurrency control.
